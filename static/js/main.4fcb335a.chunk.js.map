{"version":3,"sources":["logo.svg","redux/Counter/constants.ts","redux/Counter/actions.ts","redux/Counter/selectors.ts","components/EditableCounter/index.tsx","components/Counter/Counter.tsx","components/Counter/index.jsx","components/CounterList/CounterList.tsx","components/CounterList/index.tsx","components/CounterDashboard/CounterDashboard.tsx","components/CounterDashboard/index.tsx","redux/Counter/reducer.ts","redux/rootReducer.ts","redux/createStore.ts","App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","INCREASE","DECREASE","UPDATE","ADD","REMOVE","add","counterValues","type","payload","remove","counterID","increase","value","decrease","update","countersSelector","state","counterReducer","counters","counterIDsSelector","counterIDs","EditableCounter","props","submit","text","id","onAdd","onEdit","handleChangeInput","fieldName","e","target","setState","Number","this","cancelFallback","isNew","className","data-testid","htmlFor","onChange","name","onClick","clsx","button__add","button__update","React","PureComponent","Counter","onDecrease","onIncrease","delete","onDelete","values","onUpdate","toggleEditing","prevState","isEditing","connect","dispatch","bindActionCreators","CounterList","map","counter","key","CounterDashboard","toogleEditableForm","isAdding","handleAddCounter","generateUniqueID","Date","valueOf","reducer","action","indexOf","selectedCounter","newCounterID","newCounterIDs","filter","newCounters","reduce","prevCounters","Object","assign","rootReducer","combineReducers","configureStore","preloadedState","createStore","store","App","src","logo","alt","href","WrappedApp","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.4fcb335a.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","export const INCREASE = 'app/counter/INCREASE';\nexport const DECREASE = 'app/counter/DECREASE';\nexport const UPDATE = 'app/counter/UPDATE';\nexport const ADD = 'app/counter/ADD';\nexport const REMOVE = 'app/counter/REMOVE';\n","import { ADD, DECREASE, INCREASE, REMOVE, UPDATE } from './constants';\nimport { CounterValues } from 'components/Counter/Counter';\n\nexport const add = (counterValues: CounterValues) => ({\n  type: ADD,\n  payload: {\n    counterValues,\n  },\n});\n\nexport const remove = (counterID: number) => ({\n  type: REMOVE,\n  payload: {\n    counterID,\n  },\n});\n\nexport const increase = (counterID: number, value = 1) => ({\n  type: INCREASE,\n  payload: {\n    counterID,\n    value,\n  },\n});\nexport const decrease = (counterID: number, value = 1) => ({\n  type: DECREASE,\n  payload: {\n    counterID,\n    value,\n  },\n});\n\nexport const update = (counterID: number, counterValues: CounterValues) => ({\n  type: UPDATE,\n  payload: {\n    counterID,\n    counterValues,\n  },\n});\n","import { RootState } from '../rootReducer';\nexport const countersSelector = (state: RootState) =>\n  state.counterReducer.counters;\nexport const counterIDsSelector = (state: RootState) =>\n  state.counterReducer.counterIDs;\n","import React, { MouseEventHandler } from 'react';\nimport clsx from 'clsx';\nimport { CounterValues } from '../Counter/Counter';\n\nimport './styles.css';\n\nclass EditableCounter extends React.PureComponent<\n  EditableCounterProps,\n  EditableCounterState\n> {\n  constructor(props: EditableCounterProps) {\n    super(props);\n    const { text, value } = this.props;\n    this.state = {\n      text: text || '',\n      value: value || 0,\n    };\n  }\n  submit = () => {\n    const { text, value } = this.state;\n    const { id, onAdd, onEdit } = this.props;\n    if (!text) return;\n    const counterValues = {\n      text,\n      value,\n    };\n    if (id && onEdit) {\n      onEdit(id, counterValues);\n    } else if (onAdd) {\n      onAdd(counterValues);\n    }\n  };\n\n  handleChangeInput = (fieldName: keyof EditableCounterState) => (\n    e: React.ChangeEvent<HTMLInputElement>,\n  ) => {\n    const { value } = e.target;\n\n    if (fieldName === 'value') {\n      this.setState({\n        [fieldName]: Number(value),\n      });\n    } else {\n      this.setState({\n        [fieldName]: value,\n      });\n    }\n  };\n\n  render() {\n    const { id, cancelFallback } = this.props;\n    const { text, value } = this.state;\n    const isNew = !!!id;\n    return (\n      <div className=\"counter counter-editable\" data-testid=\"counter-editable\">\n        <div className=\"form-group\">\n          <label htmlFor=\"counterText\">Title</label>\n          <input\n            id=\"counterText\"\n            value={text}\n            onChange={this.handleChangeInput('text')}\n            data-testid=\"text\"\n          />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"value\">Value</label>\n          <input\n            name=\"value\"\n            id=\"value\"\n            type=\"number\"\n            value={value}\n            onChange={this.handleChangeInput('value')}\n            data-testid=\"value\"\n          />\n        </div>\n        <div>\n          <button\n            onClick={this.submit}\n            className={clsx('button', {\n              // eslint-disable-next-line @typescript-eslint/camelcase\n              button__add: isNew,\n              // eslint-disable-next-line @typescript-eslint/camelcase\n              button__update: !isNew,\n            })}>\n            {isNew ? 'Add' : 'Save'}\n          </button>\n          <button\n            className=\"button button__cancel\"\n            onClick={cancelFallback}\n            data-testid=\"button-cancel\">\n            Cancel\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default EditableCounter;\n\nexport interface EditableCounterProps extends Partial<CounterValues> {\n  id?: number;\n  cancelFallback: MouseEventHandler;\n  onAdd?: (values: CounterValues) => void;\n  onEdit?: (id: number, values: CounterValues) => void;\n}\n\ntype EditableCounterState = CounterValues;\n","import React, { PureComponent } from 'react';\n\nimport EditableCounter from '../EditableCounter';\nimport './styles.css';\n\nclass Counter extends PureComponent<CounterProps, CounterState> {\n  constructor(props: CounterProps) {\n    super(props);\n    this.state = {\n      isEditing: false,\n    };\n  }\n\n  decrease = () => {\n    const { id, onDecrease } = this.props;\n    onDecrease(id);\n  };\n  increase = () => {\n    const { id, onIncrease } = this.props;\n    onIncrease(id);\n  };\n  delete = () => {\n    const { id, onDelete } = this.props;\n    onDelete(id);\n  };\n  update = (id: number, values: CounterValues) => {\n    const { onUpdate } = this.props;\n    onUpdate(id, values);\n    this.toggleEditing();\n  };\n  toggleEditing = () => {\n    this.setState(prevState => ({\n      isEditing: !prevState.isEditing,\n    }));\n  };\n  render() {\n    const { isEditing } = this.state;\n    const { id, text, value } = this.props;\n    if (isEditing) {\n      return (\n        <EditableCounter\n          id={id}\n          text={text}\n          value={value}\n          onEdit={this.update}\n          cancelFallback={this.toggleEditing}\n        />\n      );\n    }\n    return (\n      <div className=\"counter\" data-testid=\"counter\">\n        <div className=\"button-group button-group--right\">\n          <button\n            onClick={this.toggleEditing}\n            className=\"button button-edit\"\n            data-testid=\"button-edit\">\n            Edit\n          </button>\n          <button\n            onClick={this.delete}\n            className=\"button button-delete\"\n            data-testid=\"button-delete\">\n            Delete\n          </button>\n        </div>\n        <h1 className=\"title\" data-testid=\"text\">\n          {text}\n        </h1>\n        <div className=\"control\">\n          <button\n            onClick={this.decrease}\n            className=\"button button-decrease\"\n            data-testid=\"button-decrease\">\n            -\n          </button>\n          <div className=\"value\">\n            <span data-testid=\"value\">{value}</span>\n          </div>\n          <button\n            onClick={this.increase}\n            className=\"button button-increase\"\n            data-testid=\"button-increase\">\n            +\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Counter;\n\nexport type CounterValues = {\n  text: string;\n  value: number;\n};\n\nexport interface CounterProps extends CounterValues {\n  id: number;\n  onIncrease: (id: number) => void;\n  onDecrease: (id: number) => void;\n  onDelete: (id: number) => void;\n  onUpdate: (id: number, values: CounterValues) => void;\n}\n\nexport interface CounterState {\n  isEditing: boolean;\n}\n","import { decrease, increase, remove, update } from 'redux/Counter/actions';\n\nimport Counter from './Counter';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\n\nconst mapDispatchToProps = dispatch =>\n  bindActionCreators(\n    {\n      onIncrease: increase,\n      onDecrease: decrease,\n      onUpdate: update,\n      onDelete: remove,\n    },\n    dispatch,\n  );\n\nexport default connect(null, mapDispatchToProps)(Counter);\n","import Counter from '../Counter';\nimport React from 'react';\nimport { CounterValues } from '../Counter/Counter';\n\nconst CounterList = (props: CounterListProps) => {\n  const { counterIDs = [], counters } = props;\n  return (\n    <>\n      {counterIDs.map(counterID => {\n        const counter = counters[counterID];\n        return <Counter key={counterID} id={counterID} {...counter} />;\n      })}\n    </>\n  );\n};\n\nexport default CounterList;\n\nexport interface CounterListProps {\n  counterIDs: Array<number>;\n  counters: Record<number, CounterValues>;\n}\n","import { connect } from 'react-redux';\n\nimport { RootState } from 'redux/rootReducer';\nimport { counterIDsSelector, countersSelector } from 'redux/Counter/selectors';\n\nimport CounterList from './CounterList';\n\nconst mapStateToProps = (state: RootState) => ({\n  counters: countersSelector(state),\n  counterIDs: counterIDsSelector(state),\n});\n\nexport default connect(mapStateToProps)(CounterList);\n","import React from 'react';\n\nimport CounterList from '../CounterList';\nimport EditableCounter from '../EditableCounter';\nimport { CounterValues } from '../Counter/Counter';\n\nimport './styles.css';\n\nclass CounterDashboard extends React.PureComponent<\n  CounterDashboardProps,\n  CounterDashboardState\n> {\n  constructor(props: CounterDashboardProps) {\n    super(props);\n    this.state = {\n      isAdding: false,\n    };\n  }\n\n  toogleEditableForm = () => {\n    this.setState(prevState => ({ isAdding: !prevState.isAdding }));\n  };\n\n  handleAddCounter = (counterValues: CounterValues) => {\n    const { onAdd } = this.props;\n    this.setState({\n      isAdding: false,\n    });\n    onAdd(counterValues);\n  };\n\n  render() {\n    const { isAdding } = this.state;\n\n    return (\n      <div className=\"counterPanel\">\n        {!isAdding && (\n          <button\n            className=\"button button-add\"\n            onClick={this.toogleEditableForm}>\n            Add new\n          </button>\n        )}\n        {isAdding && (\n          <EditableCounter\n            onAdd={this.handleAddCounter}\n            cancelFallback={this.toogleEditableForm}\n          />\n        )}\n        <CounterList />\n      </div>\n    );\n  }\n}\n\nexport default CounterDashboard;\n\nexport interface CounterDashboardProps {\n  onAdd: (values: CounterValues) => void;\n}\n\nexport interface CounterDashboardState {\n  isAdding: boolean;\n}\n","import { bindActionCreators, Dispatch } from 'redux';\nimport { connect } from 'react-redux';\n\nimport { add } from 'redux/Counter/actions';\nimport CounterDashboard from './CounterDashboard';\n\nconst mapStateToProps = null;\n\nconst mapDispatchToProps = (dispatch: Dispatch) =>\n  bindActionCreators(\n    {\n      onAdd: add,\n    },\n    dispatch,\n  );\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CounterDashboard);\n","import { ADD, DECREASE, INCREASE, REMOVE, UPDATE } from './constants';\n\nimport { CounterValues } from 'components/Counter/Counter';\nimport { PayloadAction } from '../types';\n\n/*\ncounters: {\n    <Counter ID>: {\n      text: 'Counter text',\n      value: 0,\n    }\n  },\n  counterIDs: ['<Counter ID>', ...]\n*/\n\ninterface CounterState {\n  counters: Record<number, CounterValues>;\n  counterIDs: Array<number>;\n}\n\nconst generateUniqueID = () => new Date().valueOf();\n\nconst createInitalState = (): CounterState => ({\n  counters: {},\n  counterIDs: [],\n});\n\nconst reducer = (\n  prevState = createInitalState(),\n  action: PayloadAction,\n): CounterState => {\n  const { type, payload } = action;\n  const { counters, counterIDs } = prevState;\n  switch (type) {\n    case INCREASE: {\n      const { value, counterID } = action.payload as {\n        value: number;\n        counterID: number;\n      };\n      if (counterIDs.indexOf(counterID) === -1) return prevState;\n\n      const selectedCounter = counters[counterID];\n      return {\n        ...prevState,\n        counters: {\n          ...counters,\n          [counterID]: {\n            ...selectedCounter,\n            value: selectedCounter.value + value,\n          },\n        },\n      };\n    }\n    case DECREASE: {\n      const { value, counterID } = payload as {\n        value: number;\n        counterID: number;\n      };\n      if (counterIDs.indexOf(counterID) === -1) {\n        return prevState;\n      }\n      const selectedCounter = counters[counterID];\n\n      return {\n        ...prevState,\n        counters: {\n          ...counters,\n          [counterID]: {\n            ...selectedCounter,\n            value: selectedCounter.value - value,\n          },\n        },\n      };\n    }\n    case UPDATE: {\n      const { counterID, counterValues } = payload;\n      if (counterIDs.indexOf(counterID) === -1) return prevState;\n\n      const selectedCounter = counters[counterID];\n      return {\n        ...prevState,\n        counters: {\n          ...counters,\n          [counterID]: {\n            ...selectedCounter,\n            ...counterValues,\n          },\n        },\n      };\n    }\n    case ADD: {\n      const { counterValues } = payload as { counterValues: CounterValues };\n      const newCounterID = generateUniqueID();\n      return {\n        ...prevState,\n        counterIDs: [...counterIDs, newCounterID],\n        counters: {\n          ...counters,\n          [newCounterID]: {\n            ...counterValues,\n          },\n        },\n      };\n    }\n    case REMOVE: {\n      const { counterID } = payload as { counterID: number };\n      if (counterIDs.indexOf(counterID) === -1) return prevState;\n\n      const newCounterIDs = counterIDs.filter(id => id !== counterID);\n      const newCounters = newCounterIDs.reduce(\n        (prevCounters, id) =>\n          Object.assign(prevCounters, {\n            [id]: counters[id],\n          }),\n        {},\n      ) as Record<number, CounterValues>;\n      return {\n        ...prevState,\n        counters: newCounters,\n        counterIDs: newCounterIDs,\n      };\n    }\n    default:\n      return prevState;\n  }\n};\n\nexport default reducer;\n","import { combineReducers } from 'redux';\nimport counterReducer from './Counter/reducer';\n\nconst rootReducer = combineReducers({\n  counterReducer,\n});\n\nexport default rootReducer;\n\nexport type RootState = ReturnType<typeof rootReducer>;\n","import { createStore } from 'redux';\nimport rootReducer from './rootReducer';\n\nconst configureStore = (preloadedState = {}) =>\n  createStore(rootReducer, preloadedState);\n\nexport default configureStore;\n","import './App.css';\n\nimport CounterPanel from './components/CounterDashboard';\nimport { Provider } from 'react-redux';\nimport React from 'react';\nimport createStore from './redux/createStore';\nimport logo from './logo.svg';\n\nconst store = createStore();\n\nconst App = () => {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        <p className=\"App-title\">\n          Simple <code>Counter</code> demo and unit tests\n        </p>\n        <a\n          className=\"App-link\"\n          href=\"https://github.com/phatnguyenuit/redux-counter-example\">\n          Checkout source code\n        </a>\n      </header>\n      <main className=\"App-content\">\n        <CounterPanel />\n      </main>\n    </div>\n  );\n};\n\nconst WrappedApp = () => (\n  <Provider store={store}>\n    <App />\n  </Provider>\n);\nexport default WrappedApp;\n","/* eslint-disable no-console */\n/* eslint-disable no-param-reassign */\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}